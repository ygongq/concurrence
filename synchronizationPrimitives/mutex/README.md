# 互斥锁

使用互斥锁，限定临界区只能同时由一个线程持有。

## 临界区

在并发编程中，如果程序中的一部分会被并发访问或修改，那么，为了避免并发访问导致的意想不到的结果，这部分程序需要被保护起来，这部分被保护起来的程序，就叫做临界区。

## race
```bash
go test -v mutex_test.go mutex.go mutexPostting.go  -run NotMutex -race
```
* 可以使用在compile/test/run go代码时
* race并不能在编译的时候发现问题；只能通过真正的对实际内存地址进行读写访问时才能探测
* race在运行时只有触发数据竞争之后才能检测到，如果碰巧没有触发时检测不到的
* 影响性能不建议在线上开启

## goroutine竞争锁

## 